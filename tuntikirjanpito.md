# työaikakirjanpito

| päivä | aika | mitä tein                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|:-----:|:-----|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1.8.  | 5    | project basic setup (frontend packages, backend packages, docker dev setting, backend orm migration for user table, db connector, user account registration, basic routing, frontend redux setup, frontend to backend targeting)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 5.8.  | 9    | GCP setting deploy, docker compose build, trouble shooting, browser test for backend done                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 6.8.  | 8    | nginx setup change, user_detail (user can have more than one children, later can be extended due to country code and each countries guide line of vaccination) & vaccine (Finnish guideline, but other country can be added) & history table migration, vaccine info data seed from information written in (https://rokote.fi/lapset/lasten-rokotusohjelma/), each userController user, user_detail table post method, get method vaccineController basic get method, historyController vaccination history save post method, basic get method, noticeController can return expected vaccination date                                                                                                                                                      |
| 8.8.  | 5    | login controller with JWT middleware for client and admin, added admin table, admin auth check to limit certain api, client can now only approach their own data due to jwt validation with endpoint target                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 12.8. | 2    | jwt payload property added, better security check for approaching api's ( checking children info data due to login JWT token), update token data when user who doesn't have any child data added child data, admin login doesn't have child data                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|       | 1.5  | added Korean Vaccination Plan data(https://www.immunize.org/wp-content/uploads/catg.d/p4019-09.pdf) seed, fixed notice Controller query, due to child's nationality, shows region appropriate vaccination plan data                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|       | 1.5  | user info update, check if email and nickname is already used before update (after login), change password (before login)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|       | 1    | user table modification (column is_active, last_login added to check soft delete, and late run hard delete with crontab), when login log last_login column and soft delete return user is_active become true again, user delete method (soft delete) added                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 13.8. | 1.5  | View routing added, Frontend Login and JWT cookie saving, Language change option ( Finnish, English, Korean ) and selected language cookie saving (default English)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|       | 3.5  | Added React Bootstrap and applied on frontend DOM partially, using JWT token cookie data decoded, approaching backend data to target endpoint, parsed return data and generate DOM contain returned information, backend returned data from get user/:id now return fetched row as object record                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 14.8. | 2    | Frontend Header, Footer separated, Header Added logout (unsetting cookie and navigate, reload), Language selection moved to Footer for better UI UX, UI translation for Header, Footer, /Main page shows basic data parsed DOM, Backend login will now return data in object record for detail unset user for easier approach for frontend                                                                                                                                                                                                                                                                                                                                                                                                                 |
|       | 3    | Frontend Child info register page added with language options, header menu to child registration added, header menu can be shown due to cookie, token property changed, Backend query modified for proper response data for adding child information.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|       | 1.5  | Frontend parsed data handling modified (recognizable gender shown due to tiny int value), nationality shown as country name, date shown due to order of each language standard, while login / will not show login or join related, later will be updated to have links to approach other pages, deployed to GCP and tested if deployed environment frontend request target backend API properly and was successful. responsive UI was sloppy.                                                                                                                                                                                                                                                                                                              |
| 15.8  | 2    | Frontend logout will reload, logout will be shown only while login, Vaccination History page, Vaccination Recommendation Page, RegisterChild page parsed data visualize, Backend MySQL query string modification to easier read, notice controller, history controller fetching data columns changed                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|       | 3    | Frontend saving vaccination record, due to Language option, birthdate and expected vaccination date order looks differently, logout function went to util to be called each backend response situation, due to response status code 403, cookie expiration, without cookie information forcefully navigate to login page, deploy to GCP environment and test                                                                                                                                                                                                                                                                                                                                                                                               |
| 16.8  | 3.5  | GCP got attacked, main database was deleted and database RECOVER_YOUR_DATA was added, select * from RECOVER_YOUR_DATA returned message, (injection suspected), GCP db docker volume removed, rebuilt, backend contains injection prevention (checking injection string, checking number data get changed to string), later will check if get attacked again with security enhancement, attacker message : All your data is backed up. You must pay 0.0136 BTC to 1KnSqjepnu6vb1fosSm5JU6vkcguMSpUk4 In 48 hours, your data will be publicly disclosed and deleted. (more information: go to https://is.gd/dayuwi), After payment send mail to us: dzen+2y89j@onionmail.org and we will provide a link for you to download your data. Your DBCODE is: 2Y89J |
|       | 1    | Frontend bug fix (setting token cookie wasn't reflected when using token value before refresh, token decoder fixed), Backend provide additional token property response                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|       | 0.5  | Frontend UI adjust, css adding (inline style removal), removed console log of response not to expose data structure                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 17.8  | 1    | Frontend UI Main page Responsive design applied (3 depth with media query), modified to HTML tag with class, css added, Backend server break when approaching vaccine API without param got fixed                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|       | 2.5  | Frontend UI History, Notice page Responsive design applied with HTML structure changed for better UI UX (Notice page still need to be done more), Main page responsive ,common part of each page css media query removed and written once in common, Header toggle appear after login                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 19.8  | 3    | Frontend UI Main, History, Notice page UI translation, Notice page HTML structure changed, responsive design applied                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|       | 1    | Frontend UI responsive style applied on Register Child page, Main page UI for newly join user improved, Redux for Error or Instructional message added, Header will now show pop up message using redux, when login failed (backend response)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 20.8  | 2    | Frontend UI Error & Instructive popup message with Redux in Header, styling, JWT expiration pre-warning T - 10 minutes popup message and forced expiration logout when JWT expired added with redux.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|       | 2.5  | Backend recognizable error type added for frontend, each controllers provided for each conditions code, child info registration check parameter checking fixed, Frontend each response for error, success popup message added, each message have translation returned due to error code, unusual approach (fixing query param related to child data in notice page) will be treated forceful logout                                                                                                                                                                                                                                                                                                                                                        |
| 21.8  | 5    | Frontend UI popup message added for success of registering vaccination history, added translation for notice page ,fixed wrongly typed variable name, header will stay constantly on top side of app, header nav to account setting added (info change, password change, deactivate account), popup message text aligned to left, account setting page added with translations for UI, Backend controller for user information update refactored                                                                                                                                                                                                                                                                                                           |
| 22.8  | 3    | Frontend UI account setting page HTML structure changed, responsive CSS applied, for password change seeing password toggle added, when account setting category changed all input cleaned up, wrongly delivered variable fixed, wrongly called function deleted                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|       | 3    | Frontend changing email or nickname in account setting page give proper request value, header shows different menus between admin and users, admin login & join page added, admin main page api request, Backend fixed to proper checkup of string values when frontend make request, modified to getting all user info as admin                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 26.8  | 4    | Frontend admin main page data parsing, HTML structure, translation, basic styling, wrongly typed letter fixed, Backend controller for admin page request updated on query to fetch more columns to use                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|       | 2    | Frontend admin main page responsive design styling, proper redirection for each user and admin when logout, admin top menu added, Backend user_detail record(child information and related vaccination history) delete api added                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 27.8  | 1.5  | Frontend from history page, can delete child record                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|  yht  | 84   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
